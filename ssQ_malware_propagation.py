import random

def propagate_malware(network, infected, iterations):
    network_size = len(network)
    infection_sequence = []

    for _ in range(iterations):
        new_infections = set()
        for node in infected:
            # Infect neighbors
            for neighbor in network[node]:
                if neighbor not in infected:
                    new_infections.add(neighbor)
        
        infected.update(new_infections)
        infection_sequence.append(list(infected))

        if len(infected) == network_size:
            break
    
    return infection_sequence

# Example network (adjacency list)
network = {
    0: [1, 2],
    1: [0, 3],
    2: [0, 3],
    3: [1, 2, 4],
    4: [3]
}

# Initial infected nodes
infected = {0}
iterations = 10

# Simulate malware propagation
infection_sequence = propagate_malware(network, infected, iterations)
for step, infected_nodes in enumerate(infection_sequence):
    print(f"Step {step + 1}: {infected_nodes}")
